# Mr ECU - Apache Configuration for Production

# Enable URL Rewriting
RewriteEngine On

# Set the base directory for Production (root)
RewriteBase /

# Prevent directory browsing
Options -Indexes

# Hide sensitive files
<FilesMatch "\.(ini|log|conf)$">
    Require all denied
</FilesMatch>

# Basic security for production
<IfModule mod_headers.c>
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>

# URL Rewrite Rules for SEO-friendly URLs

# Category page: /kategori/kategori-slug -> category.php?slug=kategori-slug
RewriteRule ^kategori/([a-zA-Z0-9-]+)/?$ category.php?slug=$1 [L,QSA]

# Category-Brand products: /kategori/kategori-slug/marka/marka-slug -> category-brand-products.php?category=kategori-slug&brand=marka-slug
RewriteRule ^kategori/([a-zA-Z0-9-]+)/marka/([a-zA-Z0-9-]+)/?$ category-brand-products.php?category=$1&brand=$2 [L,QSA]

# Service detail page: /hizmet/service-slug -> hizmet-detay.php?slug=service-slug
RewriteRule ^hizmet/([a-zA-Z0-9-]+)/?$ hizmet-detay.php?slug=$1 [L,QSA]

# Product detail: /urun/urun-slug -> product-detail.php?slug=urun-slug
RewriteRule ^urun/([a-zA-Z0-9-]+)/?$ product-detail.php?slug=$1 [L,QSA]

# Products listing: /urunler -> products.php
RewriteRule ^urunler/?$ products.php [L,QSA]

# Brand products: /marka/marka-slug -> products.php?brand=marka-slug
RewriteRule ^marka/([a-zA-Z0-9-]+)/?$ products.php?brand=$1 [L,QSA]

# Category products: /kategori-urunleri/kategori-slug -> products.php?category=kategori-slug
RewriteRule ^kategori-urunleri/([a-zA-Z0-9-]+)/?$ products.php?category=$1 [L,QSA]

# Service detail: /hizmet/hizmet-slug -> hizmet-detay.php?slug=hizmet-slug
RewriteRule ^hizmet/([a-zA-Z0-9-]+)/?$ hizmet-detay.php?slug=$1 [L,QSA]
